/* Perplexity-inspired Design System */
:root {
  /* PALE YELLOW */
  --pale-yellow-50: 99.62% .004 106.47;
  --pale-yellow-100: 99.02% .004 106.47;
  --pale-yellow-200: 96.28% .007 106.52;
  --pale-yellow-300: 92.96% .007 106.53;
  --pale-yellow-600: 88.28% .012 106.65;
  --pale-yellow-800: 68.98% .027 109.55;

  /* PALE TEAL */
  --pale-teal-100: 96.95% .014 196.93;

  /* PALE CYAN */
  --pale-cyan-50: 49.33% .019 171.99;
  --pale-cyan-150: 34.26% .003 197.03;
  --pale-cyan-200: 30.32% .003 197.01;
  --pale-cyan-300: 24.57% .003 196.96;
  --pale-cyan-400: 21.67% .002 197.04;

  /* PALE BLUE */
  --pale-blue-100: 36.61% .003 228.87;
  --pale-blue-200: 30.39% .04 213.68;

  /* RED */
  --red-100: 53.47% .151 25.99;
  --red-200: 51.83% .168 21.78;

  /* HYDRA */
  --hydra-150: 94.94% .033 208.37;
  --hydra-350: 71.92% .112 205.51;
  --hydra-450: 55.27% .086 208.61;
  --hydra-550: 39.71% .062 207.67;

  /* ASTRA */
  --astra-450: 77.92% .012 71.87;
  --astra-750: 27.99% .014 76.29;
  --astra-800: 20.19% .011 80.54;

  /* UMBRA */
  --umbra-150: 84.32% .008 207.14;
  --umbra-250: 70.09% .007 197;
  --umbra-350: 58.21% .006 196.99;

  /* TERRA */
  --terra-150: 91.23% .05 48.15;
  --terra-350: 70.73% .133 38.31;
  --terra-450: 52.75% .13 37.37;
  --terra-550: 43.01% .108 37.17;

  /* JENOVA */
  --jenova-150: 93.28% .038 357.01;
  --jenova-250: 84.44% .092 .32;
  --jenova-450: 49.39% .109 9.38;
  --jenova-550: 34.35% .079 9.21;

  /* ROSA */
  --rosa-150: 88.55% .06 28.44;
  --rosa-350: 68.18% .207 22.93;
  --rosa-450: 51.72% .199 21.85;
  --rosa-550: 39.55% .16 22.99;

  /* COSTA */
  --costa-150: 93.76% .048 72.24;
  --costa-300: 80.62% .151 67.71;
  --costa-350: 73.83% .169 62.71;
  --costa-400: 65.87% .163 54.96;
  --costa-500: 51.37% .155 42.1;

  /* ALTANA */
  --altana-150: 95% .083 95.76;
  --altana-350: 80.51% .151 81.42;
  --altana-400: 71.97% .149 81.37;
  --altana-450: 61.87% .129 77.72;
  --altana-500: 51.11% .109 73.59;

  /* DALMASCA */
  --dalmasca-150: 95.74% .076 97.14;
  --dalmasca-300: 83.9% .132 96.6;
  --dalmasca-400: 69.87% .123 97.59;
  --dalmasca-550: 47.82% .091 97.9;

  /* GRIDANIA */
  --gridania-150: 95.46% .037 105.4;
  --gridania-350: 75.63% .107 109.92;
  --gridania-450: 60.17% .065 108.2;
  --gridania-550: 42.28% .047 108.27;

  /* LIMSA */
  --limsa-150: 94.36% .042 217.16;
  --limsa-350: 73.11% .113 232.51;
  --limsa-450: 53.86% .101 231.01;
  --limsa-550: 36.01% .071 232.13;

  /* KUJA */
  --kuja-150: 94.87% .046 325.93;
  --kuja-350: 72.5% .119 316.63;
  --kuja-450: 54.3% .097 316.69;
  --kuja-550: 38% .079 316.84;

  /* LIGHT THEME COLORS */
  --light-super-color: var(--hydra-450);
  --light-super-bg-color: var(--pale-teal-100);
  --light-max-color: var(--altana-400);
  --light-offset-color: var(--pale-yellow-200);
  --light-offset-plus-color: var(--pale-yellow-300);
  --light-raised-offset-color: var(--light-offset-color);
  --light-caution-color: var(--red-200);
  --light-attention-color: var(--costa-400);
  --light-positive-color: var(--hydra-450);
  --light-negative-color: var(--rosa-450);
  --light-background-underlay-color: var(--pale-yellow-200);
  --light-background-base-color: var(--pale-yellow-100);
  --light-background-subtle-color: var(--pale-yellow-800) / .16;
  --light-background-subtler-color: var(--pale-yellow-800) / .1;
  --light-background-subtlest-color: var(--pale-yellow-800) / .05;
  --light-background-raised-color: var(--pale-yellow-50);
  --light-background-inverse-color: var(--pale-blue-200);
  --light-foreground-color: var(--pale-blue-200);
  --light-foreground-quiet-color: var(--light-foreground-color) / .75;
  --light-foreground-quieter-color: var(--light-foreground-color) / .48;
  --light-foreground-quietest-color: var(--light-foreground-color) / .36;
  --light-foreground-subtle-color: var(--light-foreground-color) / .24;
  --light-foreground-subtler-color: var(--light-foreground-color) / .16;
  --light-foreground-subtlest-color: var(--light-foreground-color) / .1;
  --light-foreground-inverse-color: var(--light-background-base-color);
  --light-border-color: var(--pale-yellow-600);
  --light-backdrop-color: .85 0 0;

  /* DARK THEME COLORS */
  --dark-super-color: var(--hydra-350);
  --dark-super-bg-color: var(--pale-blue-200);
  --dark-max-color: var(--altana-350);
  --dark-offset-color: var(--pale-cyan-300);
  --dark-offset-plus-color: var(--pale-cyan-200);
  --dark-raised-offset-color: var(--dark-offset-plus-color);
  --dark-caution-color: var(--red-100);
  --dark-attention-color: var(--costa-350);
  --dark-positive-color: var(--hydra-350);
  --dark-negative-color: var(--rosa-350);
  --dark-background-underlay-color: var(--pale-cyan-300);
  --dark-background-base-color: var(--pale-cyan-400);
  --dark-background-subtle-color: var(--pale-cyan-50) / .2;
  --dark-background-subtler-color: var(--pale-cyan-50) / .1;
  --dark-background-subtlest-color: var(--pale-cyan-50) / .05;
  --dark-background-raised-color: var(--dark-background-subtler-color);
  --dark-background-inverse-color: var(--pale-yellow-300);
  --dark-foreground-color: var(--pale-yellow-300);
  --dark-foreground-quiet-color: var(--dark-foreground-color) / .55;
  --dark-foreground-quieter-color: var(--dark-foreground-color) / .35;
  --dark-foreground-quietest-color: var(--dark-foreground-color) / .25;
  --dark-foreground-subtle-color: var(--dark-foreground-color) / .15;
  --dark-foreground-subtler-color: var(--dark-foreground-color) / .1;
  --dark-foreground-subtlest-color: var(--dark-foreground-color) / .05;
  --dark-foreground-inverse-color: var(--dark-background-base-color);
  --dark-border-color: var(--pale-blue-100);
  --dark-backdrop-color: .15 0 0;

  /* LAYOUT VARIABLES */
  --thread-content-width: 740px;
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0);
  --size-2xs: 2px;
  --size-xs: 4px;
  --size-sm: 8px;
  --size-md: 16px;
  --size-ml: 24px;
  --size-lg: 32px;
  --size-xl: 48px;

  /* DEFAULT TO DARK THEME */
  --super-color: var(--dark-super-color);
  --super-bg-color: var(--dark-super-bg-color);
  --max-color: var(--dark-max-color);
  --offset-color: var(--dark-offset-color);
  --offset-plus-color: var(--dark-offset-plus-color);
  --raised-offset-color: var(--dark-raised-offset-color);
  --caution-color: var(--dark-caution-color);
  --attention-color: var(--dark-attention-color);
  --positive-color: var(--dark-positive-color);
  --negative-color: var(--dark-negative-color);
  --background-underlay-color: var(--dark-background-underlay-color);
  --background-base-color: var(--dark-background-base-color);
  --background-subtle-color: var(--dark-background-subtle-color);
  --background-subtler-color: var(--dark-background-subtler-color);
  --background-subtlest-color: var(--dark-background-subtlest-color);
  --background-raised-color: var(--dark-background-raised-color);
  --background-inverse-color: var(--dark-background-inverse-color);
  --foreground-color: var(--dark-foreground-color);
  --foreground-quiet-color: var(--dark-foreground-quiet-color);
  --foreground-quieter-color: var(--dark-foreground-quieter-color);
  --foreground-quietest-color: var(--dark-foreground-quietest-color);
  --foreground-subtle-color: var(--dark-foreground-subtle-color);
  --foreground-subtler-color: var(--dark-foreground-subtler-color);
  --foreground-subtlest-color: var(--dark-foreground-subtlest-color);
  --foreground-inverse-color: var(--dark-foreground-inverse-color);
  --border-color: var(--dark-border-color);
  --backdrop-color: var(--dark-backdrop-color);
}

/* LIGHT THEME OVERRIDE */
.light {
  --super-color: var(--light-super-color);
  --super-bg-color: var(--light-super-bg-color);
  --max-color: var(--light-max-color);
  --offset-color: var(--light-offset-color);
  --offset-plus-color: var(--light-offset-plus-color);
  --raised-offset-color: var(--light-raised-offset-color);
  --caution-color: var(--light-caution-color);
  --attention-color: var(--light-attention-color);
  --positive-color: var(--light-positive-color);
  --negative-color: var(--light-negative-color);
  --background-underlay-color: var(--light-background-underlay-color);
  --background-base-color: var(--light-background-base-color);
  --background-subtle-color: var(--light-background-subtle-color);
  --background-subtler-color: var(--light-background-subtler-color);
  --background-subtlest-color: var(--light-background-subtlest-color);
  --background-raised-color: var(--light-background-raised-color);
  --background-inverse-color: var(--light-background-inverse-color);
  --foreground-color: var(--light-foreground-color);
  --foreground-quiet-color: var(--light-foreground-quiet-color);
  --foreground-quieter-color: var(--light-foreground-quieter-color);
  --foreground-quietest-color: var(--light-foreground-quietest-color);
  --foreground-subtle-color: var(--light-foreground-subtle-color);
  --foreground-subtler-color: var(--light-foreground-subtler-color);
  --foreground-subtlest-color: var(--light-foreground-subtlest-color);
  --foreground-inverse-color: var(--light-foreground-inverse-color);
  --border-color: var(--light-border-color);
  --backdrop-color: var(--light-backdrop-color);
}

/* UTILITY CLASSES */
.bg-base {
  background-color: oklch(var(--background-base-color));
}

.bg-raised {
  background-color: oklch(var(--background-raised-color));
}

.bg-offset {
  background-color: oklch(var(--offset-color));
}

.bg-offset-plus {
  background-color: oklch(var(--offset-plus-color));
}

.text-foreground {
  color: oklch(var(--foreground-color));
}

.text-quiet {
  color: oklch(var(--foreground-quiet-color));
}

.text-quieter {
  color: oklch(var(--foreground-quieter-color));
}

.text-super {
  color: oklch(var(--super-color));
}

.border-subtlest {
  border-color: oklch(var(--foreground-subtlest-color));
}

.border-subtler {
  border-color: oklch(var(--foreground-subtler-color));
}

.ring-subtlest {
  --tw-ring-color: oklch(var(--foreground-subtlest-color));
}

.divide-subtlest > :not([hidden]) ~ :not([hidden]) {
  border-color: oklch(var(--foreground-subtlest-color));
}

/* COMPONENT SPECIFIC STYLES */
.ai-chat-form {
  max-width: var(--thread-content-width);
}

.scrollbar-subtle {
  scrollbar-width: thin;
  scrollbar-color: oklch(var(--foreground-color) / .15) transparent;
}

.scrollbar-subtle::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-subtle::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-subtle::-webkit-scrollbar-thumb {
  background-color: oklch(var(--foreground-color) / .15);
  border-radius: 3px;
}

.scrollbar-subtle::-webkit-scrollbar-thumb:hover {
  background-color: oklch(var(--foreground-color) / .25);
}

/* Additional utility classes for the popover */
.bg-backdrop {
  background-color: oklch(var(--backdrop-color));
}

.animate-in {
  animation-name: enter;
  animation-duration: var(--animate-duration, 150ms);
  --animate-duration: 150ms;
}

.fade-in {
  animation-name: fade-in;
}

.zoom-in-95 {
  animation-name: zoom-in;
  --animate-zoom: 0.95;
}

.zoom-in-97 {
  animation-name: zoom-in;
  --animate-zoom: 0.97;
}

@keyframes enter {
  from {
    opacity: 0;
    transform: scale(var(--animate-zoom, 1));
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes zoom-in {
  from {
    opacity: 0;
    transform: scale(var(--animate-zoom, 0.95));
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Size utilities */
.p-xs {
  padding: var(--size-xs);
}

.px-sm {
  padding-left: var(--size-sm);
  padding-right: var(--size-sm);
}

.py-1\.5 {
  padding-top: 0.375rem;
  padding-bottom: 0.375rem;
}

.px-xs {
  padding-left: var(--size-xs);
  padding-right: var(--size-xs);
}

.my-sm {
  margin-top: var(--size-sm);
  margin-bottom: var(--size-sm);
}

.gap-sm {
  gap: var(--size-sm);
}

.gap-xs {
  gap: var(--size-xs);
}

.gap-x-1\.5 {
  column-gap: 0.375rem;
}

.gap-x-sm {
  column-gap: var(--size-sm);
}

/* Shadow utilities */
.shadow-overlay {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Badge styles */
.rounded-badge {
  border-radius: 0.5rem;
}

/* Text selection styles */
.selection\:bg-super\/50::selection {
  background-color: oklch(var(--super-color) / 0.5);
}

.selection\:text-foreground::selection {
  color: oklch(var(--foreground-color));
}

.dark\:selection\:bg-super\/10::selection {
  background-color: oklch(var(--super-color) / 0.1);
}

.dark\:selection\:text-super::selection {
  color: oklch(var(--super-color));
}

/* Hover states */
.hover\:bg-subtler:hover {
  background-color: oklch(var(--background-subtler-color));
}

/* Text colors */
.text-max {
  color: oklch(var(--max-color));
}

/* Border colors */
.border-max {
  border-color: oklch(var(--max-color));
}